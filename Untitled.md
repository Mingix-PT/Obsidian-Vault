To keep the spatial dimensions (height and width) of an image unchanged when applying a convolutional layer, you need to use a padding value that ensures the output dimensions match the input dimensions. The formula to determine the output dimensions of a convolutional layer is: \[ \text{Output dimension} = \frac{\text{Input dimension} - \text{Kernel size} + 2 \times \text{Padding}}{\text{Stride}} + 1 \] Given the input dimensions \( H \times W \) and you want the output dimensions to also be \( H \times W \), we can rearrange the formula to solve for the padding: \[ H = \frac{H - \text{Kernel size} + 2 \times \text{Padding}}{\text{Stride}} + 1 \] Assuming the stride is 1 (which is common when you want to preserve dimensions), the formula simplifies to: \[ H = H - \text{Kernel size} + 2 \times \text{Padding} + 1 \] Subtract 1 from both sides: \[ H - 1 = H - \text{Kernel size} + 2 \times \text{Padding} \] Subtract \( H \) from both sides: \[ -1 = - \text{Kernel size} + 2 \times \text{Padding} \] Add the kernel size to both sides: \[ \text{Kernel size} - 1 = 2 \times \text{Padding} \] Finally, divide by 2: \[ \text{Padding} = \frac{\text{Kernel size} - 1}{2} \] Therefore, to keep the spatial dimensions the same, the padding should be: \[ \text{Padding} = \frac{\text{Kernel size} - 1}{2} \] ### Example: For a kernel size of 3: \[ \text{Padding} = \frac{3 - 1}{2} = \frac{2}{2} = 1 \] For a kernel size of 5: \[ \text{Padding} = \frac{5 - 1}{2} = \frac{4}{2} = 2 \] ### Applying this to your example: If you have an input tensor of dimensions \( 3 \times 256 \times 256 \) and you want to output a tensor of dimensions \( 64 \times 256 \times 256 \) (where the depth is changing but the spatial dimensions remain the same), you should use a padding of: \[ \text{Padding} = \frac{\text{Kernel size} - 1}{2} \] Given a typical kernel size (for example, 3): \[ \text{Padding} = 1 \] So, you would use a padding of 1 if your kernel size is 3 to keep the spatial dimensions unchanged.